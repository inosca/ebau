<div class="communications-topic" ...attributes>
  <UkFlex @horizontal="between">
    <div>
      <h3>{{this.topicResource.record.subject}}</h3>
      <span class="uk-text-meta">
        {{t
          "communications.detail.createdBy"
          entity=this.topicResource.record.initiatedByEntity.name
          user=this.topicResource.record.initiatedBy.fullName
        }}
      </span>
    </div>
    <UkFlex @vertical="bottom">
      <ul class="uk-list uk-list-collapse uk-text-meta uk-margin-remove">
        <li>
          <UkIcon @icon="check" />
          {{t "communications.detail.readByYou"}}
        </li>
        <li>
          <UkIcon @icon="check" class="uk-text-success" />
          {{t "communications.detail.readByEveryone"}}
        </li>
      </ul>
    </UkFlex>
  </UkFlex>

  <hr />
  <Communication::MessageList @messages={{this.messagesResource.records}} />

  <Communication::MessageInput
    @message={{this.newMessage}}
    @loading={{this.sendMessage.isRunning}}
    @updateMessage={{this.updateMessage}}
    @sendMessage={{perform this.sendMessage}}
    class="uk-margin-bottom"
  />
</div>
